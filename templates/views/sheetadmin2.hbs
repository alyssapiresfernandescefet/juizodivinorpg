<!DOCTYPE html>
<html>

<head>
    {{> head}}
    <link rel="stylesheet" href="/styles/adminsheet.css">
    <script src="/scripts/admin2.js" defer></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col my-2 text-start">
                <form action="/sheet/leave">
                    <button type="submit" class="btn btn-link h4">Sair</button>
                </form>
            </div>
            <div class="col mt-2 text-end align-self-center">
                <a href="/sheet/admin/1" class="h4">Acessar 1° Página</a>
            </div>
        </div>
        <div class="row h1 text-center">
            <div class="col">Administrador</div>
        </div>
        <div class="row my-3 acds-container">
            <div class="col">
                <div class="row mt-3 text-center">
                    <div class="col offset-2 h2 text-center">Equipamentos</div>
                    <div class="col-2">
                        <input class="btn btn-dark" type="button" value="+" data-bs-toggle="modal"
                            data-bs-target="#createEquipment">
                    </div>
                </div>
                <hr>
                <div class="row mx-1">
                    <div class="col">
                        <table class="table table-dark">
                            <thead>
                                <th scope="col"></th>
                                <th scope="col">Nome</th>
                                <th scope="col">Perícia</th>
                                <th scope="col">Tipo</th>
                                <th scope="col">Dano</th>
                                <th scope="col">Alcance</th>
                                <th scope="col">Ataques</th>
                                <th scope="col">Mun. Máxima</th>
                                <th scope="col">Visível</th>
                            </thead>
                            <tbody id="equipmentListTable">
                                {{#each equipmentsList}}
                                {{> admin2_equipment_row this combatSpecializations=../combatSpecializations}}
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-3 acds-container">
            <div class="col">
                <div class="row mt-3 text-center">
                    <div class="col offset-2 h2 text-center">Perícias</div>
                    <div class="col-2">
                        <input class="btn btn-dark" type="button" value="+" data-bs-toggle="modal"
                            data-bs-target="#createSkill">
                    </div>
                </div>
                <hr>
                <div class="row mx-1">
                    <div class="col">
                        <table class="table table-dark">
                            <thead>
                                <th scope="col"></th>
                                <th scope="col">Nome</th>
                                <th scope="col">Especialização</th>
                                <th scope="col">Atributo</th>
                                <th scope="col">Obrigatório</th>
                            </thead>
                            <tbody id="skillListTable">
                                {{#each skillsList}}
                                {{> admin2_skill_row this specializations=../specializations
                                characteristics=../characteristics}}
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row my-3 acds-container">
            <div class="col">
                <div class="row mt-3 text-center">
                    <div class="col offset-2 h2 text-center">Itens</div>
                    <div class="col-2">
                        <input class="btn btn-dark" type="button" value="+" data-bs-toggle="modal"
                            data-bs-target="#createItem">
                    </div>
                </div>
                <hr>
                <div class="row mx-1">
                    <div class="col">
                        <table class="table table-dark">
                            <thead>
                                <th scope="col"></th>
                                <th scope="col">Nome</th>
                                <th scope="col">Desc. Inicial</th>
                                <th scope="col">Visível</th>
                            </thead>
                            <tbody id="itemListTable">
                                {{#each itemsList}}
                                {{>admin2_item_row this}}
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col my-2 text-start">
                <form action="/sheet/leave">
                    <button type="submit" class="btn btn-link h4">Sair</button>
                </form>
            </div>
            <div class="col mb-2 text-end align-self-center">
                <a href="/sheet/admin/1" class="h4">Acessar 1° Página</a>
            </div>
        </div>
    </div>

    {{!Templates}}
    <template id="equipmentRowTemplate">
        {{> admin2_equipment_row}}
    </template>
    <template id="skillRowTemplate">
        {{> admin2_skill_row}}
    </template>
    <template id="itemRowTemplate">
        {{> admin2_item_row}}
    </template>

    {{> failuretoast}}

    {{!Modals}}
    <div class="modal fade" id="createEquipment" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <form autocomplete="off" onsubmit="event.preventDefault(); this.reset();">
                    <div class="modal-header">
                        <h5 class="modal-title">Criar Equipamento</h5>
                    </div>
                    <div class="modal-body text-center" id="createEquipmentContainer">
                        {{> loading}}
                        <div class="container-fluid">
                            <div class="row my-3">
                                <div class="col">
                                    <input class="acds-element form-control" id="createEquipmentName" type="text"
                                        placeholder="Nome" required>
                                </div>
                            </div>
                            <div class="row my-3">
                                <div class="col">
                                    <input class="acds-element form-control" id="createEquipmentType" type="text"
                                        placeholder="Tipo" required>
                                </div>
                            </div>
                            <div class="row my-3">
                                <div class="col">
                                    <input class="acds-element form-control" id="createEquipmentDamage" type="text"
                                        placeholder="Dano" required>
                                </div>
                            </div>
                            <div class="row my-3">
                                <div class="col">
                                    <input class="acds-element form-control" id="createEquipmentRange" type="text"
                                        placeholder="Alcance" required>
                                </div>
                            </div>
                            <div class="row my-3">
                                <div class="col">
                                    <input class="acds-element form-control" id="createEquipmentAttacks" type="text"
                                        placeholder="Ataques" required>
                                </div>
                            </div>
                            <div class="row my-3">
                                <div class="col">
                                    <input class="acds-element form-control" id="createEquipmentAmmo" type="text"
                                        placeholder="Munição" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <label for="combatSpecializationList">Perícia</label>
                                    <select id="combatSpecializationList" class="form-select acds-element">
                                        {{#each combatSpecializations}}
                                        {{#with this}}
                                        <option value="{{skill_id}}">{{name}}</option>
                                        {{/with}}
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col align-self-center">
                                <button id="createEquipmentButton" type="submit" class="btn btn-primary">Criar</button>
                            </div>
                            <div class="col align-self-center">
                                <button id="createEquipmentCloseButton" type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="createSkill" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <form autocomplete="off" onsubmit="event.preventDefault(); this.reset();">
                    <div class="modal-header">
                        <h5 class="modal-title">Criar Perícia</h5>
                    </div>
                    <div class="modal-body text-center" id="createSkillContainer">
                        {{> loading}}
                        <div class="container-fluid">
                            <div class="row my-2">
                                <div class="col">
                                    <input id="createSkillName" type="text" placeholder="Nome da Perícia"
                                        class="acds-element form-control" required>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col">
                                    <label for="createSkillSpecialization">Especialização</label>
                                    <select id="createSkillSpecialization" class="form-select acds-element">
                                        <option value="0" selected>Nenhuma</option>
                                        {{#each specializations}}
                                        {{#with this}}
                                        <option id="createSkillSpecializationOption{{specialization_id}}"
                                            value="{{specialization_id}}">
                                            {{name}}</option>
                                        {{/with}}
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col">
                                    <label for="createSkillCharacteristic">Atributo</label>
                                    <select id="createSkillCharacteristic" class="form-select acds-element">
                                        {{#each characteristics}}
                                        {{#with this}}
                                        <option id="createSkillCharacteristicOption{{characteristic_id}}"
                                            value="{{characteristic_id}}">
                                            {{name}}</option>
                                        {{/with}}
                                        {{/each}}
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col align-self-center">
                                <button id="createSkillButton" type="submit" class="btn btn-primary">Criar</button>
                            </div>
                            <div class="col align-self-center">
                                <button id="createSkillCloseButton" type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="createItem" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <form autocomplete="off" onsubmit="event.preventDefault(); this.reset();">
                    <div class="modal-header">
                        <h5 class="modal-title">Criar Item</h5>
                    </div>
                    <div class="modal-body text-center" id="createItemContainer">
                        {{> loading}}
                        <div class="container-fluid">
                            <div class="row my-2">
                                <div class="col">
                                    <input id="createItemName" type="text" placeholder="Nome"
                                        class="acds-element form-control" required>
                                </div>
                            </div>
                            <div class="row my-2">
                                <div class="col">
                                    <textarea class="acds-element form-control" id="createItemDescription"
                                        placeholder="Descrição Inicial" rows="3" required></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <div class="row">
                            <div class="col align-self-center">
                                <button type="submit" id="createItemButton" class="btn btn-primary">Criar</button>
                            </div>
                            <div class="col align-self-center">
                                <button id="createItemCloseButton" type="button" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Fechar</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>

</html>